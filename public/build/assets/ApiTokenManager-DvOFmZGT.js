import{h as F,i as N,y as L,c as r,o as i,p as U,m as t,a as s,k as _,z as W,j as l,e as E,d as y,n as $,A as w,r as h,u as m,s as d,F as C,x as A,t as b}from"./app-CCjr50S1.js";import{_ as H}from"./ActionMessage-CpKGqOMr.js";import{_ as Y,S as q,a as G,b as P,c as S}from"./SecondaryButton-D3_pD2dI.js";import{_ as J}from"./DangerButton-CV4_tBBE.js";import{_ as K}from"./InputError-LFZR7r4J.js";import{_ as T}from"./InputLabel-RZyfhId-.js";import{_ as B}from"./PrimaryButton-Dg4IVMyJ.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Q}from"./TextInput-B9XGBDHB.js";const R=["value"],j={__name:"Checkbox",props:{checked:{type:[Array,Boolean],default:!1},value:{type:String,default:null}},emits:["update:checked"],setup(a,{emit:p}){const n=p,u=a,c=F({get(){return u.checked},set(v){n("update:checked",v)}});return(v,f)=>N((i(),r("input",{"onUpdate:modelValue":f[0]||(f[0]=g=>c.value=g),type:"checkbox",value:a.value,class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,R)),[[L,c.value]])}},X={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Z={class:"sm:flex sm:items-start"},ee={class:"mt-3 text-center sm:mt-0 sm:ms-4 sm:text-start"},se={class:"text-lg font-medium text-gray-900"},te={class:"mt-4 text-sm text-gray-600"},oe={class:"flex flex-row justify-end px-6 py-4 bg-gray-100 text-end"},ne={__name:"ConfirmationModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(a,{emit:p}){const n=p,u=()=>{n("close")};return(c,v)=>(i(),U(Y,{show:a.show,"max-width":a.maxWidth,closeable:a.closeable,onClose:u},{default:t(()=>[s("div",X,[s("div",Z,[v[0]||(v[0]=s("div",{class:"mx-auto shrink-0 flex items-center justify-center size-12 rounded-full bg-red-100 sm:mx-0 sm:size-10"},[s("svg",{class:"size-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])],-1)),s("div",ee,[s("h3",se,[_(c.$slots,"title")]),s("div",te,[_(c.$slots,"content")])])])]),s("div",oe,[_(c.$slots,"footer")])]),_:3},8,["show","max-width","closeable"]))}},le={class:"md:grid md:grid-cols-3 md:gap-6"},ie={class:"mt-5 md:mt-0 md:col-span-2"},ae={class:"grid grid-cols-6 gap-6"},re={key:0,class:"flex items-center justify-end px-4 py-3 bg-gray-50 text-end sm:px-6 shadow sm:rounded-bl-md sm:rounded-br-md"},de={__name:"FormSection",emits:["submitted"],setup(a){const p=F(()=>!!W().actions);return(n,u)=>(i(),r("div",le,[l(q,null,{title:t(()=>[_(n.$slots,"title")]),description:t(()=>[_(n.$slots,"description")]),_:3}),s("div",ie,[s("form",{onSubmit:u[0]||(u[0]=E(c=>n.$emit("submitted"),["prevent"]))},[s("div",{class:$(["px-4 py-5 bg-white sm:p-6 shadow",p.value?"sm:rounded-tl-md sm:rounded-tr-md":"sm:rounded-md"])},[s("div",ae,[_(n.$slots,"form")])],2),p.value?(i(),r("div",re,[_(n.$slots,"actions")])):y("",!0)],32)])]))}},me={},ue={class:"hidden sm:block"};function ce(a,p){return i(),r("div",ue,p[0]||(p[0]=[s("div",{class:"py-8"},[s("div",{class:"border-t border-gray-200"})],-1)]))}const pe=O(me,[["render",ce]]),ve={class:"col-span-6 sm:col-span-4"},fe={key:0,class:"col-span-6"},ge={class:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4"},ke={class:"flex items-center"},_e={class:"ms-2 text-sm text-gray-600"},ye={key:0},xe={class:"mt-10 sm:mt-0"},be={class:"space-y-6"},$e={class:"break-all"},we={class:"flex items-center ms-2"},he={key:0,class:"text-sm text-gray-400"},Ce=["onClick"],Ae=["onClick"],Pe={key:0,class:"mt-4 bg-gray-100 px-4 py-2 rounded font-mono text-sm text-gray-500 break-all"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Te={class:"flex items-center"},Be={class:"ms-2 text-sm text-gray-600"},Ue={__name:"ApiTokenManager",props:{tokens:Array,availablePermissions:Array,defaultPermissions:Array},setup(a){const n=w({name:"",permissions:a.defaultPermissions}),u=w({permissions:[]}),c=w({}),v=h(!1),f=h(null),g=h(null),I=()=>{n.post(route("api-tokens.store"),{preserveScroll:!0,onSuccess:()=>{v.value=!0,n.reset()}})},V=k=>{u.permissions=k.abilities,f.value=k},z=()=>{u.put(route("api-tokens.update",f.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>f.value=null})},D=k=>{g.value=k},M=()=>{c.delete(route("api-tokens.destroy",g.value),{preserveScroll:!0,preserveState:!0,onSuccess:()=>g.value=null})};return(k,e)=>(i(),r("div",null,[l(de,{onSubmitted:I},{title:t(()=>e[9]||(e[9]=[d(" Create API Token ")])),description:t(()=>e[10]||(e[10]=[d(" API tokens allow third-party services to authenticate with our application on your behalf. ")])),form:t(()=>[s("div",ve,[l(T,{for:"name",value:"Name"}),l(Q,{id:"name",modelValue:m(n).name,"onUpdate:modelValue":e[0]||(e[0]=o=>m(n).name=o),type:"text",class:"mt-1 block w-full",autofocus:""},null,8,["modelValue"]),l(K,{message:m(n).errors.name,class:"mt-2"},null,8,["message"])]),a.availablePermissions.length>0?(i(),r("div",fe,[l(T,{for:"permissions",value:"Permissions"}),s("div",ge,[(i(!0),r(C,null,A(a.availablePermissions,o=>(i(),r("div",{key:o},[s("label",ke,[l(j,{checked:m(n).permissions,"onUpdate:checked":e[1]||(e[1]=x=>m(n).permissions=x),value:o},null,8,["checked","value"]),s("span",_e,b(o),1)])]))),128))])])):y("",!0)]),actions:t(()=>[l(H,{on:m(n).recentlySuccessful,class:"me-3"},{default:t(()=>e[11]||(e[11]=[d(" Created. ")])),_:1,__:[11]},8,["on"]),l(B,{class:$({"opacity-25":m(n).processing}),disabled:m(n).processing},{default:t(()=>e[12]||(e[12]=[d(" Create ")])),_:1,__:[12]},8,["class","disabled"])]),_:1}),a.tokens.length>0?(i(),r("div",ye,[l(pe),s("div",xe,[l(G,null,{title:t(()=>e[13]||(e[13]=[d(" Manage API Tokens ")])),description:t(()=>e[14]||(e[14]=[d(" You may delete any of your existing tokens if they are no longer needed. ")])),content:t(()=>[s("div",be,[(i(!0),r(C,null,A(a.tokens,o=>(i(),r("div",{key:o.id,class:"flex items-center justify-between"},[s("div",$e,b(o.name),1),s("div",we,[o.last_used_ago?(i(),r("div",he," Last used "+b(o.last_used_ago),1)):y("",!0),a.availablePermissions.length>0?(i(),r("button",{key:1,class:"cursor-pointer ms-6 text-sm text-gray-400 underline",onClick:x=>V(o)}," Permissions ",8,Ce)):y("",!0),s("button",{class:"cursor-pointer ms-6 text-sm text-red-500",onClick:x=>D(o)}," Delete ",8,Ae)])]))),128))])]),_:1})])])):y("",!0),l(S,{show:v.value,onClose:e[3]||(e[3]=o=>v.value=!1)},{title:t(()=>e[15]||(e[15]=[d(" API Token ")])),content:t(()=>[e[16]||(e[16]=s("div",null," Please copy your new API token. For your security, it won't be shown again. ",-1)),k.$page.props.jetstream.flash.token?(i(),r("div",Pe,b(k.$page.props.jetstream.flash.token),1)):y("",!0)]),footer:t(()=>[l(P,{onClick:e[2]||(e[2]=o=>v.value=!1)},{default:t(()=>e[17]||(e[17]=[d(" Close ")])),_:1,__:[17]})]),_:1},8,["show"]),l(S,{show:f.value!=null,onClose:e[6]||(e[6]=o=>f.value=null)},{title:t(()=>e[18]||(e[18]=[d(" API Token Permissions ")])),content:t(()=>[s("div",Se,[(i(!0),r(C,null,A(a.availablePermissions,o=>(i(),r("div",{key:o},[s("label",Te,[l(j,{checked:m(u).permissions,"onUpdate:checked":e[4]||(e[4]=x=>m(u).permissions=x),value:o},null,8,["checked","value"]),s("span",Be,b(o),1)])]))),128))])]),footer:t(()=>[l(P,{onClick:e[5]||(e[5]=o=>f.value=null)},{default:t(()=>e[19]||(e[19]=[d(" Cancel ")])),_:1,__:[19]}),l(B,{class:$(["ms-3",{"opacity-25":m(u).processing}]),disabled:m(u).processing,onClick:z},{default:t(()=>e[20]||(e[20]=[d(" Save ")])),_:1,__:[20]},8,["class","disabled"])]),_:1},8,["show"]),l(ne,{show:g.value!=null,onClose:e[8]||(e[8]=o=>g.value=null)},{title:t(()=>e[21]||(e[21]=[d(" Delete API Token ")])),content:t(()=>e[22]||(e[22]=[d(" Are you sure you would like to delete this API token? ")])),footer:t(()=>[l(P,{onClick:e[7]||(e[7]=o=>g.value=null)},{default:t(()=>e[23]||(e[23]=[d(" Cancel ")])),_:1,__:[23]}),l(J,{class:$(["ms-3",{"opacity-25":m(c).processing}]),disabled:m(c).processing,onClick:M},{default:t(()=>e[24]||(e[24]=[d(" Delete ")])),_:1,__:[24]},8,["class","disabled"])]),_:1},8,["show"])]))}};export{Ue as default};
